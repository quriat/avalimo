{"updatedAt":"2026-01-14T15:05:09.589Z","createdAt":"2026-01-14T13:55:28.366Z","id":"5K8GYrjCFqBO-s9Zisusj","name":"terlgran personal agent","active":true,"isArchived":false,"nodes":[{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.message.text }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true},"id":"35588a02-6475-400d-b869-da05d7ed0f3a"}],"combinator":"and"},"renameOutput":true,"outputKey":"Text"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ccdf529a-9e72-498f-8b9e-eb4506a4aa21","leftValue":"={{ $json.message.voice }}","rightValue":"","operator":{"type":"object","operation":"exists","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"Audio"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"3ab7184b-65ec-4ca5-a250-667667999220","leftValue":"={{ $json.message.photo[0] }}","rightValue":"","operator":{"type":"object","operation":"exists","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"Image"}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[-3728,48],"id":"a081c1af-1152-473b-b2d9-cc27387cc02c","name":"Switch"},{"parameters":{"resource":"audio","operation":"transcribe","binaryPropertyName":"=data","options":{"language":"En"}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[-3280,64],"id":"080e5c52-56c8-47d1-be98-aa278a7b4b74","name":"Transcribe a recording","credentials":{"openAiApi":{"id":"48TEmGCBXdVXf76y","name":"OpenAi account"}}},{"parameters":{"assignments":{"assignments":[{"id":"2f35809b-3889-4ef7-a8d5-a4d934842631","name":"Text","value":"={{ $('Telegram Trigger').item.json.message.text }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-3056,-128],"id":"b142aedc-8630-46f4-89b7-1041a0f2e9c6","name":"Text"},{"parameters":{"assignments":{"assignments":[{"id":"2f35809b-3889-4ef7-a8d5-a4d934842631","name":"Text","value":"={{ $json.text }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-3056,64],"id":"6ea74dad-644a-48c2-a8c0-0c5e9b394856","name":"Voice"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"bbb5a4b6-7c2c-4af6-a584-e6352fd0068f","leftValue":"={{ $('Telegram Trigger').item.json.message.voice.file_id }}","rightValue":"conversation","operator":{"type":"string","operation":"notExists","singleValue":true}}],"combinator":"or"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[-272,-32],"id":"335d82c9-e41b-469e-a9da-abef7173472d","name":"If"},{"parameters":{"resource":"audio","input":"={{ $('Orchestrator Agent').item.json.output }}","voice":"echo","options":{}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[-48,64],"id":"a2ce0d13-6225-4824-8c5f-b0bc09b1e047","name":"Generate audio","credentials":{"openAiApi":{"id":"48TEmGCBXdVXf76y","name":"OpenAi account"}}},{"parameters":{"resource":"image","operation":"analyze","modelId":{"__rl":true,"value":"gpt-4o-mini","mode":"list","cachedResultName":"GPT-4O-MINI"},"text":"=What's in this image?","inputType":"base64","options":{}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[-3280,256],"id":"3208470d-074b-4123-b194-620a906081dd","name":"Analyze image","credentials":{"openAiApi":{"id":"48TEmGCBXdVXf76y","name":"OpenAi account"}}},{"parameters":{"assignments":{"assignments":[{"id":"2f35809b-3889-4ef7-a8d5-a4d934842631","name":"Text","value":"=# The author provided the image and the text \n\n## Image Description\n{{ $json.content }}\n\n\n\n","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-3056,256],"id":"045b6889-2246-4f28-90bb-b3e9b376d0ba","name":"Image + Text"},{"parameters":{"content":"# Text\n","height":176,"width":768,"color":3},"type":"n8n-nodes-base.stickyNote","position":[-3392,-64],"typeVersion":1,"id":"bed9bc58-0db0-4039-a27b-530363fc1353","name":"Sticky Note"},{"parameters":{"content":"# Voice\n","height":176,"width":768,"color":3},"type":"n8n-nodes-base.stickyNote","position":[-3616,48],"typeVersion":1,"id":"a7385847-28a6-4eee-b695-5c4a43636abd","name":"Sticky Note1"},{"parameters":{"content":"# Image\n","height":208,"width":768,"color":3},"type":"n8n-nodes-base.stickyNote","position":[-3616,208],"typeVersion":1,"id":"f7ffd37b-668a-4420-88cf-dedb43513788","name":"Sticky Note2"},{"parameters":{"content":"# Inputs\n","height":720,"width":1536},"type":"n8n-nodes-base.stickyNote","position":[-3984,-176],"typeVersion":1,"id":"9d495ae5-5d94-4da4-8d24-5847eca50d08","name":"Sticky Note3"},{"parameters":{"promptType":"define","text":"={{ $json.Text }}","needsFallback":true,"options":{"systemMessage":"=## Overview\nYou are the Parent Orchestrator Agent. Your job is to route and coordinate incoming WhatsApp messages (text, voice, image) to the correct sub-agent or processing tool. The current date and time is {{$now}}\n\n## Tools\n- Think: Use to evaluate context and decide routing logic\n- E-Mails Agent: Use for handling email-related queries, sending, replying, or managing inbox\n- Calendar Agent: Use for scheduling, retrieving, updating, or deleting calendar events\n- Web Search Agent: Use to fetch information from the internet (Google Search, Wikipedia, Hacker News)\n- Social Media Agent: Use to create or manage posts on Twitter/X\n\n## Rules\n- Route text, voice, or image inputs based on intent and context\n- Use Think tool when unsure which agent to delegate to\n- Always return the response in the correct WhatsApp output format (text or audio)\n- Keep responses concise and aligned with the casual tone of WhatsApp\n- Confirm completion of actions (emails sent, events scheduled, tweets posted, etc.)\n\n## Instructions\n1) Receive processed input (transcribed text, analyzed image, or raw message)\n2) Decide best-fit agent using Think\n3) Send the task to chosen sub-agent (E-Mails, Calendar, Web Search, Social Media)\n4) Summarize the result and return to WhatsApp as text or audio\n\n## Examples\n1)\nInput: \"What‚Äôs on my calendar tomorrow?\"\n- Action: Use Calendar Agent to check tomorrow‚Äôs events\n- Output: \"You have 2 events tomorrow: 10 AM ‚Äì Project Review, 2 PM ‚Äì Client Call.\"\n\n2)\nInput: Voice message: \"Send an email to Sarah about the meeting.\"\n- Action: Use E-Mails Agent to draft and send email\n- Output: \"Email sent to Sarah: Subject ‚Äì Meeting Update...\"\n\n3)\nInput: \"Search the latest AI news.\"\n- Action: Use Web Search Agent\n- Output: \"Latest AI news from Hacker News: OpenAI released a new API feature...\"\n\n4)\nInput: \"Post on Twitter: Excited about our new product launch!\"\n- Action: Use Social Media Agent\n- Output: \"Tweet posted: 'Excited about our new product launch!'\"\n\n## write the answer in arabic or in english when you asdked by the user."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.1,"position":[-2752,-32],"id":"dd6b1065-fe85-48dd-a24f-357f1bd8bbc3","name":"Orchestrator Agent","retryOnFail":false},{"parameters":{"content":"# Voice\n\n","height":176,"width":576,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-176,48],"typeVersion":1,"id":"830477a3-d628-404b-9d54-d52efcbdf611","name":"Sticky Note4"},{"parameters":{"content":"# Text\n\n","height":176,"width":576,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-1600,80],"typeVersion":1,"id":"0325d178-5eee-48a0-8d76-9ec0557c39da","name":"Sticky Note5"},{"parameters":{"content":"# Output\n","height":704,"width":896},"type":"n8n-nodes-base.stickyNote","position":[-1056,-160],"typeVersion":1,"id":"4add9a19-80c6-4a6c-aaa8-480757e9f055","name":"Sticky Note6"},{"parameters":{"toolDescription":"Call this tool if you want to do something with calendar.","text":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}","needsFallback":true,"options":{"systemMessage":"=## Overview\nYou are the Calendar Agent. Your job is to manage calendar events by creating, updating, retrieving, or deleting them as requested. The current date and time is {{ $now}}\n\n## Tools\n- Create an event: Use to add a new calendar event\n- Delete an event: Use to remove an existing event\n- Get an event: Use to fetch details of a specific event\n- Get Many Events: Use to list multiple upcoming or past events\n- Update Events: Use to modify details of an existing event\n\n## Rules\n- Always confirm the date, time, and event details before creating or updating\n- Use Get Many Events before creating to avoid duplicates if unsure\n- Keep responses short and clear for WhatsApp delivery\n- If an event cannot be found, respond politely with a fallback message\n\n## Instructions\n1) Interpret the user‚Äôs calendar request\n2) Select the correct tool (create, get, update, delete)\n3) Execute the action and return a human-friendly summary\n4) Always confirm the action back to the user\n\n## Examples\n1)\nInput: \"Add a meeting with Sarah tomorrow at 3 PM\"\n- Action: Use Create an event\n- Output: \"Meeting with Sarah scheduled for tomorrow at 3 PM.\"\n\n2)\nInput: \"What‚Äôs on my calendar this week?\"\n- Action: Use Get Many Events\n- Output: \"You have 4 events this week. First: Team Sync, Monday 10 AM.\"\n\n3)\nInput: \"Cancel my dentist appointment on Friday\"\n- Action: Use Delete an event\n- Output: \"Dentist appointment on Friday has been deleted.\"\n"}},"type":"@n8n/n8n-nodes-langchain.agentTool","typeVersion":2.2,"position":[-2592,192],"id":"b5c03bed-3849-4c43-9e8f-a65e13e09862","name":"Calendar Agent"},{"parameters":{"toolDescription":"Call this tool if you want to do something with E-mails.","text":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}","needsFallback":true,"options":{"systemMessage":"You are a helpful assistant"}},"type":"@n8n/n8n-nodes-langchain.agentTool","typeVersion":2.2,"position":[-2096,192],"id":"f808e8c5-9053-4d26-819c-0fd8d3ae47f4","name":"E-Mails Agent1"},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolThink","typeVersion":1.1,"position":[-1232,192],"id":"fe867df0-ef53-403f-b301-531ddfed280d","name":"Think"},{"parameters":{"toolDescription":"Call this tool to search the web.","text":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}","needsFallback":true,"options":{"systemMessage":"=## Overview\nYou are the Web Search Agent. Your job is to search the web and retrieve reliable information from news, Wikipedia, or Google Search when requested. The current date and time is {{ $now}}\n\n## Tools\n- Get an article in Hacker News: Use to fetch recent Hacker News articles\n- Wikipedia: Use to retrieve encyclopedic and factual information\n- Google Search (SerpApi): Use for general web searches across the internet\n\n## Rules\n- Always choose the most relevant tool for the query\n- Return concise, clear, and factual responses\n- Summarize results instead of dumping raw data\n- Cite the source of information (e.g., \"According to Wikipedia...\")\n\n## Instructions\n1) Interpret the user‚Äôs query\n2) Select the best tool (Hacker News, Wikipedia, Google Search)\n3) Retrieve and summarize the answer\n4) Return only the relevant response in plain text\n\n## Examples\n1)\nInput: \"What‚Äôs the latest AI news?\"\n- Action: Use Hacker News tool to get recent articles\n- Output: \"Latest on Hacker News: OpenAI released a new API feature...\"\n\n2)\nInput: \"Who invented the telephone?\"\n- Action: Use Wikipedia tool\n- Output: \"According to Wikipedia, Alexander Graham Bell is credited with inventing the telephone in 1876.\"\n\n3)\nInput: \"Best restaurants in New York 2025\"\n- Action: Use Google Search (SerpApi)\n- Output: \"Top-rated restaurants in New York (2025): Le Bernardin, Eleven Madison Park, Atomix.\"\n"}},"type":"@n8n/n8n-nodes-langchain.agentTool","typeVersion":2.2,"position":[-1056,192],"id":"62444a26-11c2-4b95-ae8c-5e312e9999af","name":"Search Agent","notesInFlow":false},{"parameters":{"content":"# Orchestrator Agent\n\n","height":368,"width":736,"color":5},"type":"n8n-nodes-base.stickyNote","position":[-2912,-32],"typeVersion":1,"id":"321cace8-859b-4114-90f5-6827c89a8289","name":"Sticky Note7"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.toolSerpApi","typeVersion":1,"position":[-1152,400],"id":"90ee75cd-552c-40ec-a2c2-877ade2f9ff8","name":"Google Search","credentials":{"serpApi":{"id":"RNRgVuCWEyLg3Ihv","name":"SerpAPI account"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolWikipedia","typeVersion":1,"position":[-1024,400],"id":"ca8ff790-0b43-4d07-8784-3ddaccc5c27f","name":"Wikipedia"},{"parameters":{"articleId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Article_ID', ``, 'string') }}","additionalFields":{}},"type":"n8n-nodes-base.hackerNewsTool","typeVersion":1,"position":[-896,400],"id":"4bbe0fe3-956e-47ea-9e28-a5ba76bfb063","name":"Get an article in Hacker News"},{"parameters":{"content":"# Web Search Agent\n\n","height":496,"width":1040,"color":7},"type":"n8n-nodes-base.stickyNote","position":[-1504,48],"typeVersion":1,"id":"695e8d47-e7a6-48c5-ac49-8bcfae7dd293","name":"Sticky Note8"},{"parameters":{"calendar":{"__rl":true,"value":"quriat@gmail.com","mode":"list","cachedResultName":"quriat@gmail.com"},"start":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}","end":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}","useDefaultReminders":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Use_Default_Reminders', ``, 'boolean') }}","additionalFields":{"attendees":[],"description":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Description', ``, 'string') }}","summary":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Summary', ``, 'string') }}"}},"type":"n8n-nodes-base.googleCalendarTool","typeVersion":1.3,"position":[-2576,400],"id":"cc871eae-5080-4207-8af9-f1ad2e2fbcd7","name":"Create an event","credentials":{"googleCalendarOAuth2Api":{"id":"YhNqBxgLyeLFUkr7","name":"Google Calendar account"}}},{"parameters":{"operation":"delete","calendar":{"__rl":true,"value":"quriat@gmail.com","mode":"list","cachedResultName":"quriat@gmail.com"},"eventId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}","options":{}},"type":"n8n-nodes-base.googleCalendarTool","typeVersion":1.3,"position":[-2448,400],"id":"f4028153-b061-44c8-b9c1-154233f05c74","name":"Delete an event","credentials":{"googleCalendarOAuth2Api":{"id":"YhNqBxgLyeLFUkr7","name":"Google Calendar account"}}},{"parameters":{"operation":"get","calendar":{"__rl":true,"value":"quriat@gmail.com","mode":"list","cachedResultName":"quriat@gmail.com"},"eventId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}","options":{}},"type":"n8n-nodes-base.googleCalendarTool","typeVersion":1.3,"position":[-2320,400],"id":"a829b46f-bce4-4f61-bd43-2c1a531daab2","name":"Get an event","credentials":{"googleCalendarOAuth2Api":{"id":"YhNqBxgLyeLFUkr7","name":"Google Calendar account"}}},{"parameters":{"operation":"getAll","calendar":{"__rl":true,"value":"quriat@gmail.com","mode":"list","cachedResultName":"quriat@gmail.com"},"returnAll":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Return_All', ``, 'boolean') }}","timeMin":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('After', ``, 'string') }}","timeMax":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Before', ``, 'string') }}","options":{}},"type":"n8n-nodes-base.googleCalendarTool","typeVersion":1.3,"position":[-2192,400],"id":"ae4ea550-70cc-42d8-829f-a580ac63b2c4","name":"Get Many Events","credentials":{"googleCalendarOAuth2Api":{"id":"YhNqBxgLyeLFUkr7","name":"Google Calendar account"}}},{"parameters":{"operation":"update","calendar":{"__rl":true,"value":"quriat@gmail.com","mode":"list","cachedResultName":"quriat@gmail.com"},"eventId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}","updateFields":{}},"type":"n8n-nodes-base.googleCalendarTool","typeVersion":1.3,"position":[-2064,400],"id":"0191963f-d266-425f-9f90-0f7160ad90f4","name":"Update Events","credentials":{"googleCalendarOAuth2Api":{"id":"YhNqBxgLyeLFUkr7","name":"Google Calendar account"}}},{"parameters":{"sendTo":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('To', ``, 'string') }}","subject":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Subject', ``, 'string') }}","emailType":"text","message":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', ``, 'string') }}","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmailTool","typeVersion":2.1,"position":[-1920,400],"id":"bcc9d157-0b8e-41ad-af23-39dbbd243be1","name":"Send a message","webhookId":"007ef44f-18fb-4fb0-b9bb-c39302708160","credentials":{"gmailOAuth2":{"id":"DVdDtnWIadL4aPIV","name":"Gmail account"}}},{"parameters":{"operation":"getAll","limit":20,"simple":false,"filters":{},"options":{}},"type":"n8n-nodes-base.gmailTool","typeVersion":2.1,"position":[-1792,400],"id":"dbec6fca-a738-45e5-9382-64e3aa3ff4f3","name":"Get many e-mails","webhookId":"ab24367e-b1f5-4307-9721-1b27b53f6b1f","credentials":{"gmailOAuth2":{"id":"DVdDtnWIadL4aPIV","name":"Gmail account"}}},{"parameters":{"operation":"delete","messageId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}"},"type":"n8n-nodes-base.gmailTool","typeVersion":2.1,"position":[-1664,400],"id":"68e16a88-b4f4-4d13-8164-81f648a0cbb1","name":"Delete an e-mail","webhookId":"ec0914d7-eb58-4d09-9925-ddf2cdea6ddd","credentials":{"gmailOAuth2":{"id":"DVdDtnWIadL4aPIV","name":"Gmail account"}}},{"parameters":{"operation":"markAsRead","messageId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}"},"type":"n8n-nodes-base.gmailTool","typeVersion":2.1,"position":[-1536,400],"id":"3591ae35-d46c-4e32-a593-25f62226f4d8","name":"Mark as read","webhookId":"88d91fc4-8537-44e9-83bb-66481b2d1063","credentials":{"gmailOAuth2":{"id":"DVdDtnWIadL4aPIV","name":"Gmail account"}}},{"parameters":{"operation":"markAsUnread","messageId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}"},"type":"n8n-nodes-base.gmailTool","typeVersion":2.1,"position":[-1408,400],"id":"365d056b-7e61-4908-9373-86bed1cc70a0","name":"Mark as unread","webhookId":"6aad4705-21aa-41ec-b57c-b37c1b3153cb","credentials":{"gmailOAuth2":{"id":"DVdDtnWIadL4aPIV","name":"Gmail account"}}},{"parameters":{"operation":"reply","messageId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}","emailType":"text","message":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', ``, 'string') }}","options":{}},"type":"n8n-nodes-base.gmailTool","typeVersion":2.1,"position":[-1280,400],"id":"3753d78f-c2e0-4981-94d0-b37c2218c8dc","name":"Reply to e-mail","webhookId":"ab98a4d3-3424-461c-b74a-e6eb795c9400","credentials":{"gmailOAuth2":{"id":"DVdDtnWIadL4aPIV","name":"Gmail account"}}},{"parameters":{"content":"# E-Mail Agent\n\n\n","height":496,"width":1232,"color":7},"type":"n8n-nodes-base.stickyNote","position":[-2352,48],"typeVersion":1,"id":"0f20d752-34f2-4b95-98a8-5244e0e74a73","name":"Sticky Note9"},{"parameters":{"toolDescription":"Call this tool if you want to post on x.","text":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}","needsFallback":true,"options":{"systemMessage":"=## Role\nYou are an expert in creating high-quality, engaging, and modern posts for **X (formerly Twitter)**.  \nYou receive information and generate posts that are:\n\n- **Concise and informative**, without unnecessary details.  \n- **Engaging and dynamic**, designed to capture attention and encourage interaction.  \n- **Trending and optimized**, using relevant keywords and hashtags for maximum reach.  \n- **Structured for readability**, utilizing short paragraphs, line breaks, and emojis to enhance engagement.  \n\n---\n\n## Post Style\nYour posts should primarily focus on **AI topics** and often begin with this format:\n\nüëâ *‚ÄúXYZ just dropped XYZ, and people are already doing crazy stuff with it‚Äî10 examples.‚Äù*  \n\n‚ö†Ô∏è **Important:** When creating a post, always use the **savePost** tool to store it.  \n\n---\n\n## Tools\n\n### savePost\nUse this tool to save the post in a **Google Sheets document**. Include:\n\n- **Column 1:** Current date  \n- **Column 2:** Post topic  \n- **Column 3:** Post content (plain text)  \n"}},"type":"@n8n/n8n-nodes-langchain.agentTool","typeVersion":2.2,"position":[-640,192],"id":"165c94d0-e005-4093-9b4b-febda7251458","name":"Social Media Agent"},{"parameters":{"content":"# Calender Agent\n\n\n","height":496,"width":880,"color":7},"type":"n8n-nodes-base.stickyNote","position":[-2384,48],"typeVersion":1,"id":"2eb2f4fe-bc6e-40f6-8c65-78d516a3cd81","name":"Sticky Note10"},{"parameters":{"content":"# Social Media - Twitter\n\n\n","height":336,"width":736,"color":7},"type":"n8n-nodes-base.stickyNote","position":[-1088,208],"typeVersion":1,"id":"50ca95fe-3c90-40f2-bdea-4cba6b0ce861","name":"Sticky Note11"},{"parameters":{"operation":"appendOrUpdate","documentId":{"__rl":true,"value":"1LVctGysj6Uro_Mx29CrV2WxsPnl4E9FPhbNfEYUBMwU","mode":"list","cachedResultName":"X-Posts","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1LVctGysj6Uro_Mx29CrV2WxsPnl4E9FPhbNfEYUBMwU/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":"gid=0","mode":"list","cachedResultName":"Sheet1","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1LVctGysj6Uro_Mx29CrV2WxsPnl4E9FPhbNfEYUBMwU/edit#gid=0"},"columns":{"mappingMode":"defineBelow","value":{"Date ":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Date_', ``, 'string') }}","Theme":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Theme', ``, 'string') }}","Posts":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Posts', ``, 'string') }}"},"matchingColumns":["Date "],"schema":[{"id":"Date ","displayName":"Date ","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Theme","displayName":"Theme","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Posts","displayName":"Posts","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.googleSheetsTool","typeVersion":4.7,"position":[-624,400],"id":"36d90b11-0426-4d98-8343-316437de0c90","name":"x post","credentials":{"googleSheetsOAuth2Api":{"id":"OK8uabSCc25Un5lJ","name":"Google Sheets account"}}},{"parameters":{"updates":["edited_message","message","*"],"additionalFields":{}},"type":"n8n-nodes-base.telegramTrigger","typeVersion":1.2,"position":[-3952,64],"id":"14646d16-0af6-4b10-bed3-26abc0f06c23","name":"Telegram Trigger","webhookId":"fe27b358-23bc-40ad-9bc1-e64e448f8575","credentials":{"telegramApi":{"id":"W2KTuDl3nFPnesri","name":"quriatbot"}}},{"parameters":{"operation":"sendAudio","chatId":"={{ $('Telegram Trigger').item.json.message.chat.id }}","binaryData":true,"additionalFields":{}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[176,64],"id":"201748bd-289a-4b92-a6e3-1fa8b21a9aa4","name":"Send an audio file1","webhookId":"c865082c-ad42-4936-9975-c12f9a79b5de","credentials":{"telegramApi":{"id":"W2KTuDl3nFPnesri","name":"quriatbot"}}},{"parameters":{"chatId":"={{ $('Telegram Trigger').item.json.message.chat.id }}","text":"={{ $('Orchestrator Agent').item.json.output }}","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[-48,-128],"id":"16cd359c-9a5a-4429-bfda-499e6fe9fc81","name":"Send a text message","webhookId":"61fad55e-8184-4cb7-8746-cdef899ce60a","credentials":{"telegramApi":{"id":"W2KTuDl3nFPnesri","name":"quriatbot"}}},{"parameters":{"resource":"file","fileId":"={{ $('Telegram Trigger').item.json.message.voice.file_id }}","additionalFields":{}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[-3504,64],"id":"bf6a7271-7c2d-4cc1-bfbe-1f43cc6e4283","name":"Get a file","webhookId":"9f1bcbcc-0f4d-4b01-86d4-1bcc13372b28","credentials":{"telegramApi":{"id":"W2KTuDl3nFPnesri","name":"quriatbot"}}},{"parameters":{"resource":"file","fileId":"={{ $('Telegram Trigger').item.json.message.photo[0].file_id }}","additionalFields":{}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[-3504,256],"id":"77bd5e35-b04e-4afd-9c32-567afc2b26db","name":"Get a file1","webhookId":"54ea0dc0-00e6-4a71-8780-eff047430f85","credentials":{"telegramApi":{"id":"W2KTuDl3nFPnesri","name":"quriatbot"}}},{"parameters":{"person":"6EXGcXHgAw","text":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Text', ``, 'string') }}","additionalFields":{"visibility":"PUBLIC"}},"type":"n8n-nodes-base.linkedInTool","typeVersion":1,"position":[-496,400],"id":"a5f61724-3601-469c-96f6-92a9bb642fe3","name":"Create a post in LinkedIn","credentials":{"linkedInOAuth2Api":{"id":"cwRmvXdzDoDbaoJF","name":"LinkedIn account"}}},{"parameters":{"sessionIdType":"customKey","sessionKey":"={{ $('Telegram Trigger').item.json.message.from.id }}","contextWindowLength":20},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[-2656,192],"id":"d25219f3-15d9-4c2f-9279-7b7fdead8ff4","name":"Simple Memory"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenRouter","typeVersion":1,"position":[-2800,400],"id":"234d899a-0347-4d47-9b0e-ded896847b54","name":"OpenRouter Chat Model","credentials":{"openRouterApi":{"id":"ypsTIXKbBaqMjw1s","name":"OpenRouter account"}}},{"parameters":{"resource":"playlist","id":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Playlist_ID', ``, 'string') }}","trackID":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Track_ID', ``, 'string') }}","additionalFields":{}},"type":"n8n-nodes-base.spotifyTool","typeVersion":1,"position":[-768,400],"id":"32fec4eb-5303-48c5-8b38-44521c2986fc","name":"Add an Item to a playlist in Spotify","credentials":{"spotifyOAuth2Api":{"id":"U1S1FOSmw24VyZf3","name":"Spotify account"}},"disabled":true}],"connections":{"Switch":{"main":[[{"node":"Text","type":"main","index":0}],[{"node":"Get a file","type":"main","index":0}],[{"node":"Get a file1","type":"main","index":0}]]},"Transcribe a recording":{"main":[[{"node":"Voice","type":"main","index":0}]]},"Text":{"main":[[{"node":"Orchestrator Agent","type":"main","index":0}]]},"Voice":{"main":[[{"node":"Orchestrator Agent","type":"main","index":0}]]},"If":{"main":[[{"node":"Send a text message","type":"main","index":0}],[{"node":"Generate audio","type":"main","index":0}]]},"Generate audio":{"main":[[{"node":"Send an audio file1","type":"main","index":0}]]},"Analyze image":{"main":[[{"node":"Image + Text","type":"main","index":0}]]},"Orchestrator Agent":{"main":[[{"node":"If","type":"main","index":0}]]},"Calendar Agent":{"ai_tool":[[{"node":"Orchestrator Agent","type":"ai_tool","index":0}]]},"E-Mails Agent1":{"ai_tool":[[{"node":"Orchestrator Agent","type":"ai_tool","index":0}]]},"Think":{"ai_tool":[[{"node":"Orchestrator Agent","type":"ai_tool","index":0}]]},"Search Agent":{"ai_tool":[[{"node":"Orchestrator Agent","type":"ai_tool","index":0}]]},"Google Search":{"ai_tool":[[{"node":"Search Agent","type":"ai_tool","index":0}]]},"Wikipedia":{"ai_tool":[[{"node":"Search Agent","type":"ai_tool","index":0}]]},"Get an article in Hacker News":{"ai_tool":[[{"node":"Search Agent","type":"ai_tool","index":0}]]},"Create an event":{"ai_tool":[[{"node":"Calendar Agent","type":"ai_tool","index":0}]]},"Delete an event":{"ai_tool":[[{"node":"Calendar Agent","type":"ai_tool","index":0}]]},"Get an event":{"ai_tool":[[{"node":"Calendar Agent","type":"ai_tool","index":0}]]},"Get Many Events":{"ai_tool":[[{"node":"Calendar Agent","type":"ai_tool","index":0}]]},"Update Events":{"ai_tool":[[{"node":"Calendar Agent","type":"ai_tool","index":0}]]},"Send a message":{"ai_tool":[[{"node":"E-Mails Agent1","type":"ai_tool","index":0}]]},"Get many e-mails":{"ai_tool":[[{"node":"E-Mails Agent1","type":"ai_tool","index":0}]]},"Delete an e-mail":{"ai_tool":[[{"node":"E-Mails Agent1","type":"ai_tool","index":0}]]},"Mark as read":{"ai_tool":[[{"node":"E-Mails Agent1","type":"ai_tool","index":0}]]},"Mark as unread":{"ai_tool":[[{"node":"E-Mails Agent1","type":"ai_tool","index":0}]]},"Reply to e-mail":{"ai_tool":[[{"node":"E-Mails Agent1","type":"ai_tool","index":0}]]},"Social Media Agent":{"ai_tool":[[{"node":"Orchestrator Agent","type":"ai_tool","index":0}]]},"x post":{"ai_tool":[[{"node":"Social Media Agent","type":"ai_tool","index":0}]]},"Telegram Trigger":{"main":[[{"node":"Switch","type":"main","index":0}]]},"Get a file":{"main":[[{"node":"Transcribe a recording","type":"main","index":0}]]},"Get a file1":{"main":[[{"node":"Analyze image","type":"main","index":0}]]},"Create a post in LinkedIn":{"ai_tool":[[{"node":"Social Media Agent","type":"ai_tool","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"Orchestrator Agent","type":"ai_memory","index":0}]]},"OpenRouter Chat Model":{"ai_languageModel":[[{"node":"Orchestrator Agent","type":"ai_languageModel","index":1},{"node":"Calendar Agent","type":"ai_languageModel","index":1},{"node":"E-Mails Agent1","type":"ai_languageModel","index":1},{"node":"Search Agent","type":"ai_languageModel","index":1},{"node":"Social Media Agent","type":"ai_languageModel","index":1}]]},"Add an Item to a playlist in Spotify":{"ai_tool":[[{"node":"Search Agent","type":"ai_tool","index":0}]]}},"settings":{"executionOrder":"v1","availableInMCP":false,"timeSavedMode":"fixed","timezone":"America/Chicago","callerPolicy":"workflowsFromSameOwner"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"6897fd1a-a92b-4f29-ad64-dc28a3be5a3b","activeVersionId":"251556ec-929a-42f1-b704-b327f0c0193f","triggerCount":1,"shared":[{"updatedAt":"2026-01-14T13:55:28.379Z","createdAt":"2026-01-14T13:55:28.379Z","role":"workflow:owner","workflowId":"5K8GYrjCFqBO-s9Zisusj","projectId":"f7lZ9I1x9DksCYtb"}],"activeVersion":{"updatedAt":"2026-01-14T14:50:01.000Z","createdAt":"2026-01-14T14:49:49.487Z","versionId":"251556ec-929a-42f1-b704-b327f0c0193f","workflowId":"5K8GYrjCFqBO-s9Zisusj","nodes":[{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.message.text }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true},"id":"35588a02-6475-400d-b869-da05d7ed0f3a"}],"combinator":"and"},"renameOutput":true,"outputKey":"Text"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ccdf529a-9e72-498f-8b9e-eb4506a4aa21","leftValue":"={{ $json.message.voice }}","rightValue":"","operator":{"type":"object","operation":"exists","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"Audio"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"3ab7184b-65ec-4ca5-a250-667667999220","leftValue":"={{ $json.message.photo[0] }}","rightValue":"","operator":{"type":"object","operation":"exists","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"Image"}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[-3728,48],"id":"a081c1af-1152-473b-b2d9-cc27387cc02c","name":"Switch"},{"parameters":{"resource":"audio","operation":"transcribe","binaryPropertyName":"=data","options":{"language":"En"}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[-3280,64],"id":"080e5c52-56c8-47d1-be98-aa278a7b4b74","name":"Transcribe a recording","credentials":{"openAiApi":{"id":"48TEmGCBXdVXf76y","name":"OpenAi account"}}},{"parameters":{"assignments":{"assignments":[{"id":"2f35809b-3889-4ef7-a8d5-a4d934842631","name":"Text","value":"={{ $('Telegram Trigger').item.json.message.text }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-3056,-128],"id":"b142aedc-8630-46f4-89b7-1041a0f2e9c6","name":"Text"},{"parameters":{"assignments":{"assignments":[{"id":"2f35809b-3889-4ef7-a8d5-a4d934842631","name":"Text","value":"={{ $json.text }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-3056,64],"id":"6ea74dad-644a-48c2-a8c0-0c5e9b394856","name":"Voice"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"bbb5a4b6-7c2c-4af6-a584-e6352fd0068f","leftValue":"={{ $('Telegram Trigger').item.json.message.voice.file_id }}","rightValue":"conversation","operator":{"type":"string","operation":"notExists","singleValue":true}}],"combinator":"or"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[-272,-32],"id":"335d82c9-e41b-469e-a9da-abef7173472d","name":"If"},{"parameters":{"resource":"audio","input":"={{ $('Orchestrator Agent').item.json.output }}","voice":"echo","options":{}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[-48,64],"id":"a2ce0d13-6225-4824-8c5f-b0bc09b1e047","name":"Generate audio","credentials":{"openAiApi":{"id":"48TEmGCBXdVXf76y","name":"OpenAi account"}}},{"parameters":{"resource":"image","operation":"analyze","modelId":{"__rl":true,"value":"gpt-4o-mini","mode":"list","cachedResultName":"GPT-4O-MINI"},"text":"=What's in this image?","inputType":"base64","options":{}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[-3280,256],"id":"3208470d-074b-4123-b194-620a906081dd","name":"Analyze image","credentials":{"openAiApi":{"id":"48TEmGCBXdVXf76y","name":"OpenAi account"}}},{"parameters":{"assignments":{"assignments":[{"id":"2f35809b-3889-4ef7-a8d5-a4d934842631","name":"Text","value":"=# The author provided the image and the text \n\n## Image Description\n{{ $json.content }}\n\n\n\n","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-3056,256],"id":"045b6889-2246-4f28-90bb-b3e9b376d0ba","name":"Image + Text"},{"parameters":{"content":"# Text\n","height":176,"width":768,"color":3},"type":"n8n-nodes-base.stickyNote","position":[-3392,-64],"typeVersion":1,"id":"bed9bc58-0db0-4039-a27b-530363fc1353","name":"Sticky Note"},{"parameters":{"content":"# Voice\n","height":176,"width":768,"color":3},"type":"n8n-nodes-base.stickyNote","position":[-3616,48],"typeVersion":1,"id":"a7385847-28a6-4eee-b695-5c4a43636abd","name":"Sticky Note1"},{"parameters":{"content":"# Image\n","height":208,"width":768,"color":3},"type":"n8n-nodes-base.stickyNote","position":[-3616,208],"typeVersion":1,"id":"f7ffd37b-668a-4420-88cf-dedb43513788","name":"Sticky Note2"},{"parameters":{"content":"# Inputs\n","height":720,"width":1536},"type":"n8n-nodes-base.stickyNote","position":[-3984,-176],"typeVersion":1,"id":"9d495ae5-5d94-4da4-8d24-5847eca50d08","name":"Sticky Note3"},{"parameters":{"promptType":"define","text":"={{ $json.Text }}","needsFallback":true,"options":{"systemMessage":"=## Overview\nYou are the Parent Orchestrator Agent. Your job is to route and coordinate incoming WhatsApp messages (text, voice, image) to the correct sub-agent or processing tool. The current date and time is {{$now}}\n\n## Tools\n- Think: Use to evaluate context and decide routing logic\n- E-Mails Agent: Use for handling email-related queries, sending, replying, or managing inbox\n- Calendar Agent: Use for scheduling, retrieving, updating, or deleting calendar events\n- Web Search Agent: Use to fetch information from the internet (Google Search, Wikipedia, Hacker News)\n- Social Media Agent: Use to create or manage posts on Twitter/X\n\n## Rules\n- Route text, voice, or image inputs based on intent and context\n- Use Think tool when unsure which agent to delegate to\n- Always return the response in the correct WhatsApp output format (text or audio)\n- Keep responses concise and aligned with the casual tone of WhatsApp\n- Confirm completion of actions (emails sent, events scheduled, tweets posted, etc.)\n\n## Instructions\n1) Receive processed input (transcribed text, analyzed image, or raw message)\n2) Decide best-fit agent using Think\n3) Send the task to chosen sub-agent (E-Mails, Calendar, Web Search, Social Media)\n4) Summarize the result and return to WhatsApp as text or audio\n\n## Examples\n1)\nInput: \"What‚Äôs on my calendar tomorrow?\"\n- Action: Use Calendar Agent to check tomorrow‚Äôs events\n- Output: \"You have 2 events tomorrow: 10 AM ‚Äì Project Review, 2 PM ‚Äì Client Call.\"\n\n2)\nInput: Voice message: \"Send an email to Sarah about the meeting.\"\n- Action: Use E-Mails Agent to draft and send email\n- Output: \"Email sent to Sarah: Subject ‚Äì Meeting Update...\"\n\n3)\nInput: \"Search the latest AI news.\"\n- Action: Use Web Search Agent\n- Output: \"Latest AI news from Hacker News: OpenAI released a new API feature...\"\n\n4)\nInput: \"Post on Twitter: Excited about our new product launch!\"\n- Action: Use Social Media Agent\n- Output: \"Tweet posted: 'Excited about our new product launch!'\"\n\n## write the answer in arabic or in english when you asdked by the user."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.1,"position":[-2752,-32],"id":"dd6b1065-fe85-48dd-a24f-357f1bd8bbc3","name":"Orchestrator Agent","retryOnFail":false},{"parameters":{"content":"# Voice\n\n","height":176,"width":576,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-176,48],"typeVersion":1,"id":"830477a3-d628-404b-9d54-d52efcbdf611","name":"Sticky Note4"},{"parameters":{"content":"# Text\n\n","height":176,"width":576,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-1600,80],"typeVersion":1,"id":"0325d178-5eee-48a0-8d76-9ec0557c39da","name":"Sticky Note5"},{"parameters":{"content":"# Output\n","height":704,"width":896},"type":"n8n-nodes-base.stickyNote","position":[-1060,-160],"typeVersion":1,"id":"4add9a19-80c6-4a6c-aaa8-480757e9f055","name":"Sticky Note6"},{"parameters":{"toolDescription":"Call this tool if you want to do something with calendar.","text":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}","needsFallback":true,"options":{"systemMessage":"=## Overview\nYou are the Calendar Agent. Your job is to manage calendar events by creating, updating, retrieving, or deleting them as requested. The current date and time is {{ $now}}\n\n## Tools\n- Create an event: Use to add a new calendar event\n- Delete an event: Use to remove an existing event\n- Get an event: Use to fetch details of a specific event\n- Get Many Events: Use to list multiple upcoming or past events\n- Update Events: Use to modify details of an existing event\n\n## Rules\n- Always confirm the date, time, and event details before creating or updating\n- Use Get Many Events before creating to avoid duplicates if unsure\n- Keep responses short and clear for WhatsApp delivery\n- If an event cannot be found, respond politely with a fallback message\n\n## Instructions\n1) Interpret the user‚Äôs calendar request\n2) Select the correct tool (create, get, update, delete)\n3) Execute the action and return a human-friendly summary\n4) Always confirm the action back to the user\n\n## Examples\n1)\nInput: \"Add a meeting with Sarah tomorrow at 3 PM\"\n- Action: Use Create an event\n- Output: \"Meeting with Sarah scheduled for tomorrow at 3 PM.\"\n\n2)\nInput: \"What‚Äôs on my calendar this week?\"\n- Action: Use Get Many Events\n- Output: \"You have 4 events this week. First: Team Sync, Monday 10 AM.\"\n\n3)\nInput: \"Cancel my dentist appointment on Friday\"\n- Action: Use Delete an event\n- Output: \"Dentist appointment on Friday has been deleted.\"\n"}},"type":"@n8n/n8n-nodes-langchain.agentTool","typeVersion":2.2,"position":[-2584,192],"id":"b5c03bed-3849-4c43-9e8f-a65e13e09862","name":"Calendar Agent"},{"parameters":{"toolDescription":"Call this tool if you want to do something with E-mails.","text":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}","needsFallback":true,"options":{"systemMessage":"You are a helpful assistant"}},"type":"@n8n/n8n-nodes-langchain.agentTool","typeVersion":2.2,"position":[-2088,192],"id":"f808e8c5-9053-4d26-819c-0fd8d3ae47f4","name":"E-Mails Agent1"},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolThink","typeVersion":1.1,"position":[-1232,192],"id":"fe867df0-ef53-403f-b301-531ddfed280d","name":"Think"},{"parameters":{"toolDescription":"Call this tool to search the web.","text":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}","needsFallback":true,"options":{"systemMessage":"=## Overview\nYou are the Web Search Agent. Your job is to search the web and retrieve reliable information from news, Wikipedia, or Google Search when requested. The current date and time is {{ $now}}\n\n## Tools\n- Get an article in Hacker News: Use to fetch recent Hacker News articles\n- Wikipedia: Use to retrieve encyclopedic and factual information\n- Google Search (SerpApi): Use for general web searches across the internet\n\n## Rules\n- Always choose the most relevant tool for the query\n- Return concise, clear, and factual responses\n- Summarize results instead of dumping raw data\n- Cite the source of information (e.g., \"According to Wikipedia...\")\n\n## Instructions\n1) Interpret the user‚Äôs query\n2) Select the best tool (Hacker News, Wikipedia, Google Search)\n3) Retrieve and summarize the answer\n4) Return only the relevant response in plain text\n\n## Examples\n1)\nInput: \"What‚Äôs the latest AI news?\"\n- Action: Use Hacker News tool to get recent articles\n- Output: \"Latest on Hacker News: OpenAI released a new API feature...\"\n\n2)\nInput: \"Who invented the telephone?\"\n- Action: Use Wikipedia tool\n- Output: \"According to Wikipedia, Alexander Graham Bell is credited with inventing the telephone in 1876.\"\n\n3)\nInput: \"Best restaurants in New York 2025\"\n- Action: Use Google Search (SerpApi)\n- Output: \"Top-rated restaurants in New York (2025): Le Bernardin, Eleven Madison Park, Atomix.\"\n"}},"type":"@n8n/n8n-nodes-langchain.agentTool","typeVersion":2.2,"position":[-1048,192],"id":"62444a26-11c2-4b95-ae8c-5e312e9999af","name":"Search Agent","notesInFlow":false},{"parameters":{"content":"# Orchestrator Agent\n\n","height":368,"width":736,"color":5},"type":"n8n-nodes-base.stickyNote","position":[-2914,-32],"typeVersion":1,"id":"321cace8-859b-4114-90f5-6827c89a8289","name":"Sticky Note7"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.toolSerpApi","typeVersion":1,"position":[-1144,400],"id":"90ee75cd-552c-40ec-a2c2-877ade2f9ff8","name":"Google Search","credentials":{"serpApi":{"id":"RNRgVuCWEyLg3Ihv","name":"SerpAPI account"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolWikipedia","typeVersion":1,"position":[-1016,400],"id":"ca8ff790-0b43-4d07-8784-3ddaccc5c27f","name":"Wikipedia"},{"parameters":{"articleId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Article_ID', ``, 'string') }}","additionalFields":{}},"type":"n8n-nodes-base.hackerNewsTool","typeVersion":1,"position":[-888,400],"id":"4bbe0fe3-956e-47ea-9e28-a5ba76bfb063","name":"Get an article in Hacker News"},{"parameters":{"content":"# Web Search Agent\n\n","height":496,"width":1040,"color":7},"type":"n8n-nodes-base.stickyNote","position":[-1496,48],"typeVersion":1,"id":"695e8d47-e7a6-48c5-ac49-8bcfae7dd293","name":"Sticky Note8"},{"parameters":{"calendar":{"__rl":true,"value":"quriat@gmail.com","mode":"list","cachedResultName":"quriat@gmail.com"},"start":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}","end":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}","useDefaultReminders":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Use_Default_Reminders', ``, 'boolean') }}","additionalFields":{"attendees":[],"description":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Description', ``, 'string') }}","summary":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Summary', ``, 'string') }}"}},"type":"n8n-nodes-base.googleCalendarTool","typeVersion":1.3,"position":[-2568,400],"id":"cc871eae-5080-4207-8af9-f1ad2e2fbcd7","name":"Create an event","credentials":{"googleCalendarOAuth2Api":{"id":"YhNqBxgLyeLFUkr7","name":"Google Calendar account"}}},{"parameters":{"operation":"delete","calendar":{"__rl":true,"value":"quriat@gmail.com","mode":"list","cachedResultName":"quriat@gmail.com"},"eventId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}","options":{}},"type":"n8n-nodes-base.googleCalendarTool","typeVersion":1.3,"position":[-2440,400],"id":"f4028153-b061-44c8-b9c1-154233f05c74","name":"Delete an event","credentials":{"googleCalendarOAuth2Api":{"id":"YhNqBxgLyeLFUkr7","name":"Google Calendar account"}}},{"parameters":{"operation":"get","calendar":{"__rl":true,"value":"quriat@gmail.com","mode":"list","cachedResultName":"quriat@gmail.com"},"eventId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}","options":{}},"type":"n8n-nodes-base.googleCalendarTool","typeVersion":1.3,"position":[-2312,400],"id":"a829b46f-bce4-4f61-bd43-2c1a531daab2","name":"Get an event","credentials":{"googleCalendarOAuth2Api":{"id":"YhNqBxgLyeLFUkr7","name":"Google Calendar account"}}},{"parameters":{"operation":"getAll","calendar":{"__rl":true,"value":"quriat@gmail.com","mode":"list","cachedResultName":"quriat@gmail.com"},"returnAll":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Return_All', ``, 'boolean') }}","timeMin":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('After', ``, 'string') }}","timeMax":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Before', ``, 'string') }}","options":{}},"type":"n8n-nodes-base.googleCalendarTool","typeVersion":1.3,"position":[-2184,400],"id":"ae4ea550-70cc-42d8-829f-a580ac63b2c4","name":"Get Many Events","credentials":{"googleCalendarOAuth2Api":{"id":"YhNqBxgLyeLFUkr7","name":"Google Calendar account"}}},{"parameters":{"operation":"update","calendar":{"__rl":true,"value":"quriat@gmail.com","mode":"list","cachedResultName":"quriat@gmail.com"},"eventId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}","updateFields":{}},"type":"n8n-nodes-base.googleCalendarTool","typeVersion":1.3,"position":[-2056,400],"id":"0191963f-d266-425f-9f90-0f7160ad90f4","name":"Update Events","credentials":{"googleCalendarOAuth2Api":{"id":"YhNqBxgLyeLFUkr7","name":"Google Calendar account"}}},{"parameters":{"sendTo":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('To', ``, 'string') }}","subject":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Subject', ``, 'string') }}","emailType":"text","message":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', ``, 'string') }}","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmailTool","typeVersion":2.1,"position":[-1920,400],"id":"bcc9d157-0b8e-41ad-af23-39dbbd243be1","name":"Send a message","webhookId":"007ef44f-18fb-4fb0-b9bb-c39302708160","credentials":{"gmailOAuth2":{"id":"DVdDtnWIadL4aPIV","name":"Gmail account"}}},{"parameters":{"operation":"getAll","limit":20,"simple":false,"filters":{},"options":{}},"type":"n8n-nodes-base.gmailTool","typeVersion":2.1,"position":[-1792,400],"id":"dbec6fca-a738-45e5-9382-64e3aa3ff4f3","name":"Get many e-mails","webhookId":"ab24367e-b1f5-4307-9721-1b27b53f6b1f","credentials":{"gmailOAuth2":{"id":"DVdDtnWIadL4aPIV","name":"Gmail account"}}},{"parameters":{"operation":"delete","messageId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}"},"type":"n8n-nodes-base.gmailTool","typeVersion":2.1,"position":[-1664,400],"id":"68e16a88-b4f4-4d13-8164-81f648a0cbb1","name":"Delete an e-mail","webhookId":"ec0914d7-eb58-4d09-9925-ddf2cdea6ddd","credentials":{"gmailOAuth2":{"id":"DVdDtnWIadL4aPIV","name":"Gmail account"}}},{"parameters":{"operation":"markAsRead","messageId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}"},"type":"n8n-nodes-base.gmailTool","typeVersion":2.1,"position":[-1536,400],"id":"3591ae35-d46c-4e32-a593-25f62226f4d8","name":"Mark as read","webhookId":"88d91fc4-8537-44e9-83bb-66481b2d1063","credentials":{"gmailOAuth2":{"id":"DVdDtnWIadL4aPIV","name":"Gmail account"}}},{"parameters":{"operation":"markAsUnread","messageId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}"},"type":"n8n-nodes-base.gmailTool","typeVersion":2.1,"position":[-1408,400],"id":"365d056b-7e61-4908-9373-86bed1cc70a0","name":"Mark as unread","webhookId":"6aad4705-21aa-41ec-b57c-b37c1b3153cb","credentials":{"gmailOAuth2":{"id":"DVdDtnWIadL4aPIV","name":"Gmail account"}}},{"parameters":{"operation":"reply","messageId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}","emailType":"text","message":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', ``, 'string') }}","options":{}},"type":"n8n-nodes-base.gmailTool","typeVersion":2.1,"position":[-1280,400],"id":"3753d78f-c2e0-4981-94d0-b37c2218c8dc","name":"Reply to e-mail","webhookId":"ab98a4d3-3424-461c-b74a-e6eb795c9400","credentials":{"gmailOAuth2":{"id":"DVdDtnWIadL4aPIV","name":"Gmail account"}}},{"parameters":{"content":"# E-Mail Agent\n\n\n","height":496,"width":1232,"color":7},"type":"n8n-nodes-base.stickyNote","position":[-2348,48],"typeVersion":1,"id":"0f20d752-34f2-4b95-98a8-5244e0e74a73","name":"Sticky Note9"},{"parameters":{"toolDescription":"Call this tool if you want to post on x.","text":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}","needsFallback":true,"options":{"systemMessage":"=## Role\nYou are an expert in creating high-quality, engaging, and modern posts for **X (formerly Twitter)**.  \nYou receive information and generate posts that are:\n\n- **Concise and informative**, without unnecessary details.  \n- **Engaging and dynamic**, designed to capture attention and encourage interaction.  \n- **Trending and optimized**, using relevant keywords and hashtags for maximum reach.  \n- **Structured for readability**, utilizing short paragraphs, line breaks, and emojis to enhance engagement.  \n\n---\n\n## Post Style\nYour posts should primarily focus on **AI topics** and often begin with this format:\n\nüëâ *‚ÄúXYZ just dropped XYZ, and people are already doing crazy stuff with it‚Äî10 examples.‚Äù*  \n\n‚ö†Ô∏è **Important:** When creating a post, always use the **savePost** tool to store it.  \n\n---\n\n## Tools\n\n### savePost\nUse this tool to save the post in a **Google Sheets document**. Include:\n\n- **Column 1:** Current date  \n- **Column 2:** Post topic  \n- **Column 3:** Post content (plain text)  \n"}},"type":"@n8n/n8n-nodes-langchain.agentTool","typeVersion":2.2,"position":[-640,192],"id":"165c94d0-e005-4093-9b4b-febda7251458","name":"Social Media Agent"},{"parameters":{"content":"# Calender Agent\n\n\n","height":496,"width":880,"color":7},"type":"n8n-nodes-base.stickyNote","position":[-2388,48],"typeVersion":1,"id":"2eb2f4fe-bc6e-40f6-8c65-78d516a3cd81","name":"Sticky Note10"},{"parameters":{"content":"# Social Media - Twitter\n\n\n","height":336,"width":736,"color":7},"type":"n8n-nodes-base.stickyNote","position":[-1084,208],"typeVersion":1,"id":"50ca95fe-3c90-40f2-bdea-4cba6b0ce861","name":"Sticky Note11"},{"parameters":{"operation":"appendOrUpdate","documentId":{"__rl":true,"value":"1LVctGysj6Uro_Mx29CrV2WxsPnl4E9FPhbNfEYUBMwU","mode":"list","cachedResultName":"X-Posts","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1LVctGysj6Uro_Mx29CrV2WxsPnl4E9FPhbNfEYUBMwU/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":"gid=0","mode":"list","cachedResultName":"Sheet1","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1LVctGysj6Uro_Mx29CrV2WxsPnl4E9FPhbNfEYUBMwU/edit#gid=0"},"columns":{"mappingMode":"defineBelow","value":{"Date ":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Date_', ``, 'string') }}","Theme":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Theme', ``, 'string') }}","Posts":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Posts', ``, 'string') }}"},"matchingColumns":["Date "],"schema":[{"id":"Date ","displayName":"Date ","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Theme","displayName":"Theme","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Posts","displayName":"Posts","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.googleSheetsTool","typeVersion":4.7,"position":[-624,400],"id":"36d90b11-0426-4d98-8343-316437de0c90","name":"x post","credentials":{"googleSheetsOAuth2Api":{"id":"OK8uabSCc25Un5lJ","name":"Google Sheets account"}}},{"parameters":{"updates":["edited_message","message","*"],"additionalFields":{}},"type":"n8n-nodes-base.telegramTrigger","typeVersion":1.2,"position":[-3952,64],"id":"14646d16-0af6-4b10-bed3-26abc0f06c23","name":"Telegram Trigger","webhookId":"fe27b358-23bc-40ad-9bc1-e64e448f8575","credentials":{"telegramApi":{"id":"W2KTuDl3nFPnesri","name":"quriatbot"}}},{"parameters":{"operation":"sendAudio","chatId":"={{ $('Telegram Trigger').item.json.message.chat.id }}","binaryData":true,"additionalFields":{}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[176,64],"id":"201748bd-289a-4b92-a6e3-1fa8b21a9aa4","name":"Send an audio file1","webhookId":"c865082c-ad42-4936-9975-c12f9a79b5de","credentials":{"telegramApi":{"id":"W2KTuDl3nFPnesri","name":"quriatbot"}}},{"parameters":{"chatId":"={{ $('Telegram Trigger').item.json.message.chat.id }}","text":"={{ $('Orchestrator Agent').item.json.output }}","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[-48,-128],"id":"16cd359c-9a5a-4429-bfda-499e6fe9fc81","name":"Send a text message","webhookId":"61fad55e-8184-4cb7-8746-cdef899ce60a","credentials":{"telegramApi":{"id":"W2KTuDl3nFPnesri","name":"quriatbot"}}},{"parameters":{"resource":"file","fileId":"={{ $('Telegram Trigger').item.json.message.voice.file_id }}","additionalFields":{}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[-3504,64],"id":"bf6a7271-7c2d-4cc1-bfbe-1f43cc6e4283","name":"Get a file","webhookId":"9f1bcbcc-0f4d-4b01-86d4-1bcc13372b28","credentials":{"telegramApi":{"id":"W2KTuDl3nFPnesri","name":"quriatbot"}}},{"parameters":{"resource":"file","fileId":"={{ $('Telegram Trigger').item.json.message.photo[0].file_id }}","additionalFields":{}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[-3504,256],"id":"77bd5e35-b04e-4afd-9c32-567afc2b26db","name":"Get a file1","webhookId":"54ea0dc0-00e6-4a71-8780-eff047430f85","credentials":{"telegramApi":{"id":"W2KTuDl3nFPnesri","name":"quriatbot"}}},{"parameters":{"person":"6EXGcXHgAw","text":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Text', ``, 'string') }}","additionalFields":{"visibility":"PUBLIC"}},"type":"n8n-nodes-base.linkedInTool","typeVersion":1,"position":[-496,400],"id":"a5f61724-3601-469c-96f6-92a9bb642fe3","name":"Create a post in LinkedIn","credentials":{"linkedInOAuth2Api":{"id":"cwRmvXdzDoDbaoJF","name":"LinkedIn account"}}},{"parameters":{"sessionIdType":"customKey","sessionKey":"={{ $('Telegram Trigger').item.json.message.from.id }}","contextWindowLength":20},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[-2712,192],"id":"d25219f3-15d9-4c2f-9279-7b7fdead8ff4","name":"Simple Memory"},{"parameters":{"operation":"currentlyPlaying"},"type":"n8n-nodes-base.spotifyTool","typeVersion":1,"position":[-760,400],"id":"32fec4eb-5303-48c5-8b38-44521c2986fc","name":"Get the currently playing track in Spotify","disabled":true},{"parameters":{"model":"qwen/qwen3-32b","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGroq","typeVersion":1,"position":[-2880,496],"id":"aea3a294-3c9b-4332-84a4-9b5b9772db4c","name":"Groq Chat Model","credentials":{"groqApi":{"id":"8FkOpRZITfFWw8sH","name":"Groq account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenRouter","typeVersion":1,"position":[-2704,400],"id":"234d899a-0347-4d47-9b0e-ded896847b54","name":"OpenRouter Chat Model","credentials":{"openRouterApi":{"id":"ypsTIXKbBaqMjw1s","name":"OpenRouter account"}}}],"connections":{"Switch":{"main":[[{"node":"Text","type":"main","index":0}],[{"node":"Get a file","type":"main","index":0}],[{"node":"Get a file1","type":"main","index":0}]]},"Transcribe a recording":{"main":[[{"node":"Voice","type":"main","index":0}]]},"Text":{"main":[[{"node":"Orchestrator Agent","type":"main","index":0}]]},"Voice":{"main":[[{"node":"Orchestrator Agent","type":"main","index":0}]]},"If":{"main":[[{"node":"Send a text message","type":"main","index":0}],[{"node":"Generate audio","type":"main","index":0}]]},"Generate audio":{"main":[[{"node":"Send an audio file1","type":"main","index":0}]]},"Analyze image":{"main":[[{"node":"Image + Text","type":"main","index":0}]]},"Orchestrator Agent":{"main":[[{"node":"If","type":"main","index":0}]]},"Calendar Agent":{"ai_tool":[[{"node":"Orchestrator Agent","type":"ai_tool","index":0}]]},"E-Mails Agent1":{"ai_tool":[[{"node":"Orchestrator Agent","type":"ai_tool","index":0}]]},"Think":{"ai_tool":[[{"node":"Orchestrator Agent","type":"ai_tool","index":0}]]},"Search Agent":{"ai_tool":[[{"node":"Orchestrator Agent","type":"ai_tool","index":0}]]},"Google Search":{"ai_tool":[[{"node":"Search Agent","type":"ai_tool","index":0}]]},"Wikipedia":{"ai_tool":[[{"node":"Search Agent","type":"ai_tool","index":0}]]},"Get an article in Hacker News":{"ai_tool":[[{"node":"Search Agent","type":"ai_tool","index":0}]]},"Create an event":{"ai_tool":[[{"node":"Calendar Agent","type":"ai_tool","index":0}]]},"Delete an event":{"ai_tool":[[{"node":"Calendar Agent","type":"ai_tool","index":0}]]},"Get an event":{"ai_tool":[[{"node":"Calendar Agent","type":"ai_tool","index":0}]]},"Get Many Events":{"ai_tool":[[{"node":"Calendar Agent","type":"ai_tool","index":0}]]},"Update Events":{"ai_tool":[[{"node":"Calendar Agent","type":"ai_tool","index":0}]]},"Send a message":{"ai_tool":[[{"node":"E-Mails Agent1","type":"ai_tool","index":0}]]},"Get many e-mails":{"ai_tool":[[{"node":"E-Mails Agent1","type":"ai_tool","index":0}]]},"Delete an e-mail":{"ai_tool":[[{"node":"E-Mails Agent1","type":"ai_tool","index":0}]]},"Mark as read":{"ai_tool":[[{"node":"E-Mails Agent1","type":"ai_tool","index":0}]]},"Mark as unread":{"ai_tool":[[{"node":"E-Mails Agent1","type":"ai_tool","index":0}]]},"Reply to e-mail":{"ai_tool":[[{"node":"E-Mails Agent1","type":"ai_tool","index":0}]]},"Social Media Agent":{"ai_tool":[[{"node":"Orchestrator Agent","type":"ai_tool","index":0}]]},"x post":{"ai_tool":[[{"node":"Social Media Agent","type":"ai_tool","index":0}]]},"Telegram Trigger":{"main":[[{"node":"Switch","type":"main","index":0}]]},"Get a file":{"main":[[{"node":"Transcribe a recording","type":"main","index":0}]]},"Get a file1":{"main":[[{"node":"Analyze image","type":"main","index":0}]]},"Create a post in LinkedIn":{"ai_tool":[[{"node":"Social Media Agent","type":"ai_tool","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"Orchestrator Agent","type":"ai_memory","index":0}]]},"Get the currently playing track in Spotify":{"ai_tool":[[{"node":"Search Agent","type":"ai_tool","index":0}]]},"Groq Chat Model":{"ai_languageModel":[[{"node":"Orchestrator Agent","type":"ai_languageModel","index":0},{"node":"Calendar Agent","type":"ai_languageModel","index":0},{"node":"E-Mails Agent1","type":"ai_languageModel","index":0},{"node":"Search Agent","type":"ai_languageModel","index":0},{"node":"Social Media Agent","type":"ai_languageModel","index":0}]]},"OpenRouter Chat Model":{"ai_languageModel":[[{"node":"Orchestrator Agent","type":"ai_languageModel","index":1},{"node":"Calendar Agent","type":"ai_languageModel","index":1},{"node":"E-Mails Agent1","type":"ai_languageModel","index":1},{"node":"Search Agent","type":"ai_languageModel","index":1},{"node":"Social Media Agent","type":"ai_languageModel","index":1}]]}},"authors":"adam quriat12@gmail.com","name":"Version 251556ec","description":"","autosaved":true},"tags":[]}